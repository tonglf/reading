## 第 4 章 文件处理

### 4.1 程序异常退出时未关闭已打开文件

**代码示例**

```cpp

```

**现象&后果**



**Bug分析**



**正确代码**

```cpp

```



### 4.2 目录打开后未关闭

**代码示例**

```cpp

```

**现象&后果**



**Bug分析**



**正确代码**

```cpp

```





### 4.3 写文件没有调用fflush

**代码示例**

```cpp

```

**现象&后果**



**Bug分析**



**正确代码**

```cpp

```





### 4.4 读文件fread的返回值不能忽略

**代码示例**

```cpp

```

**现象&后果**



**Bug分析**



**正确代码**

```cpp

```





### 4.5 getline()使用不当导致的死循环

**代码示例**

```cpp

```

**现象&后果**



**Bug分析**



**正确代码**

```cpp

```





### 4.6 未重置流状态导致读文件错误

**代码示例**

```cpp

```

**现象&后果**



**Bug分析**



**正确代码**

```cpp

```





### 4.7 小结